:root {
  --border:#ddd;
  --accent:#1e4d8c;
}

body {
  font-family: system-ui, sans-serif;
  margin:0;
  background:#fafafa;
  color:#222;
}

header {
  background:#fff;
  border-bottom:1px solid var(--border);
  padding:1rem;
  display:flex;
  flex-wrap:wrap;
  gap:.5rem;
  align-items:center;
}

/* --- Tabs --- */
.tab-menu {
  display:flex;
  gap:0.5rem;
  padding:0.5rem 1rem;
  background:#fff;
  border-bottom:1px solid var(--border);
}

.tab-menu button {
  background:var(--accent);
  color:white;
  border:none;
  border-radius:4px;
  padding:0.4rem 1rem;
  cursor:pointer;
}

.tab-menu button.active {
  background:#163a66;
}

/* --- Cards --- */
#card-container {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:1rem;
  padding:1rem;
}

.card {
  background:#fff;
  border:1px solid var(--border);
  border-radius:6px;
  padding:1rem;
  cursor:pointer;
  box-shadow:0 1px 2px rgba(0,0,0,.05);
  overflow-x:auto;
}

.card h2 {
  margin-top:0;
  color:var(--accent);
  font-size:1.05rem;
}

.card-content {
  display:none;
  margin-top:.5rem;
  overflow-x:auto;
  white-space:normal;
}
.card.open .card-content { display:block; }

/* --- MathJax fix --- */
mjx-container {
  display:block !important;
  width:fit-content !important;
  max-width:none !important;
  white-space:nowrap !important;
  overflow-x:visible !important;
}

/* --- Practice Section --- */
#practice-section {
  background:#fff;
  border-top:2px solid var(--accent);
  margin:1rem;
  padding:1rem;
  border-radius:6px;
}

#practice-card {
  margin-top:1rem;
  border:1px dashed var(--border);
  padding:1rem;
  min-height:100px;
  background:#fdfdfd;
}

.fuzzy {
  filter:blur(5px);
  opacity:0.6;
}

/* --- Print --- */
@media print {
  header, .tab-menu, #practice-section { display:none; }
  body { background:#fff; }
  .card { page-break-inside:avoid; border:1pt solid #000; }
}
